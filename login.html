<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุชุณุฌูู ุงูุฏุฎูู</title>
  <link rel="stylesheet" href="css/login.css">
  <link rel="icon" href="icons8-business-intelligence-64.png" type="image/png">
</head>
<body class="login-page">
  <main class="form-container">
    <h2>๐ ุชุณุฌูู ุงูุฏุฎูู</h2>
    <form id="login-form">
      <input id="login-email" type="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู">
      <input id="login-password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ">
      <button id="loginBtn" type="submit">ุชุณุฌูู ุงูุฏุฎูู</button>
      <div id="loginStatus"></div>
    </form>
    <p>ููุณ ูุฏูู ุญุณุงุจุ <a href="signup.html">ุฅูุดุงุก ุญุณุงุจ</a></p>
  </main>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="js/firebase-config.js"></script>
<script src="js/auth.js"></script>

<script>
 document.getElementById("login-form").addEventListener("submit", (e) => {
    e.preventDefault(); // ๐ ููุน ุงูุฅุฑุณุงู ุงูุงูุชุฑุงุถู ููููุฑู

    const email = document.getElementById("login-email").value.trim();
    const password = document.getElementById("login-password").value.trim();

    if (!email || !password) {
      document.getElementById("loginStatus").innerText = "โ ุจุฑุฌุงุก ุฅุฏุฎุงู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ.";
      return;
    }

    firebase.auth().signInWithEmailAndPassword(email, password)
      .then(userCredential => {
        document.getElementById("loginStatus").innerText = "โ ุชู ุชุณุฌูู ุงูุฏุฎูู!";
        setTimeout(() => {
          window.location.href = "profile.html"; // ๐ ุงูููู ูุตูุญุฉ ุงูุจุฑููุงูู ุจุนุฏ ุงูุฏุฎูู
        }, 1000);
      })
      .catch(error => {
        document.getElementById("loginStatus").innerText = "โ " + error.message;
      });
  });
  auth.onAuthStateChanged((user) => {
    if (user) {
      console.log(user.displayName); // ๐ ูุงุฒู ูุทุจุน ุงูุงุณู
    }
  });
</script>
</body>
</html>